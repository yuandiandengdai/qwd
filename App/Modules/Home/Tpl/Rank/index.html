<include file="public:header"/>

<div class="container" id="all_info">
    <h2 id="game_order_info">排行榜</h2>
    <div id="leader_info">
        <div class="top_title">领先排行列表</div>
        <volist name="counter" id="val">
            <dt class="item_list_info">
                <span class="num_order" style="<?php if($i < 4){echo 'background-color:orange;color: #FFF;';} ?>">{$i}</span>
                <span class="xu_wei"><a href="javascript:void(0)" title="{$val.name}&nbsp;总共赢得了{$val.win}&nbsp;局比赛">{$val.name}&nbsp;总共赢得了</a></span>
                <span class="z_wu_pai_ming">{$val.win}&nbsp;局比赛</span>
            </dt>
        </volist>
    </div>

    <div id="user_info">
        <div class="top_title">玩家状态列表</div>
        <volist name="add_time" id="val">
            <dt class="item_list_info">
                <span class="num_order">{$i}</span>
                <span class="ply_join_game"><a href="javascript:void(0)" title="{$val.name}&nbsp;进入了&nbsp;{$val.rid}号房间">{$val.name}&nbsp;进入了&nbsp;{$val.rid}号房间</a></span>
                <span class="ply_join_time">{$val.add_time|date="Y-m-d H:i:s",###}</span>
            </dt>
        </volist>
    </div>

    <div id="room_info">
        <div class="top_title">房间状态列表</div>
        <volist name="room" id="val">
            <dt class="item_list_info">
                <span class="num_order">{$i}</span>
                <span class="ply_info"><a href="javascript:void(0)" title="{$val.onwer}&nbsp;赢得本局比赛">{$val.onwer}&nbsp;在本房间赢得比赛</a></span>
                <span class="ply_num">{$val.count}&nbsp;人在玩</span>
            </dt>
        </volist>
    </div>
    <a href="<?php echo isset($_SESSION['uid']) ? " __ROOT__/Game" : "__ROOT__/Member/login" ?>">
    <input id="game_start_button1" name="commit" value="开始游戏" class="btn btn-primary" type="submit">
    </a>

</div>
<script type="text/javascript">
    var es = new EventSource("{:U('Rank/member')}");
    es.addEventListener("message", function (e) {
        var j = JSON.parse(e.data);
        for (var n = 0; n < j.length; n++) {
        }
    }, false);
</script>

<include file="public:footer"/>